<div class="cadastro-container">
  <!-- Lado Esquerdo - Banner -->
  <div class="cadastro-banner">
    <div class="banner-content">
      <div class="logo-banner">
        <img src="img/Logo-CashInBox-icon-tipografia.png" alt="Cash in Box Logo" />
      </div>
      <h2>Comece sua jornada com 14 dias grÃ¡tis</h2>
      <p>
        Experimente todas as funcionalidades do Cash in Box sem compromisso. 
        Sem cartÃ£o de crÃ©dito necessÃ¡rio!
      </p>
      
      <div class="benefits-list">
        <div class="benefit">
          <div class="benefit-icon">âœ“</div>
          <span>14 dias de teste gratuito</span>
        </div>
        <div class="benefit">
          <div class="benefit-icon">âœ“</div>
          <span>Sem cartÃ£o de crÃ©dito</span>
        </div>
        <div class="benefit">
          <div class="benefit-icon">âœ“</div>
          <span>Acesso completo a todas funcionalidades</span>
        </div>
        <div class="benefit">
          <div class="benefit-icon">âœ“</div>
          <span>Suporte especializado incluÃ­do</span>
        </div>
      </div>
    </div>
  </div>

  <!-- Lado Direito - FormulÃ¡rio -->
  <div class="cadastro-form-section">
    <div class="cadastro-form-content">
      <!-- CabeÃ§alho -->
      <div class="cadastro-header">
        <h1>Criar sua conta</h1>
        <p>Cadastre-se para comeÃ§ar seu teste gratuito</p>
      </div>

      <!-- Progress Bar -->
      <div class="progress-container">
        <div class="progress-steps">
          <div 
            class="progress-step"
            [class.active]="currentStep >= 1"
            [class.completed]="currentStep > 1"
          >
            <div class="step-number">1</div>
            <span class="step-label">Seus Dados</span>
          </div>
          <div class="progress-line" [class.active]="currentStep > 1"></div>
          <div 
            class="progress-step"
            [class.active]="currentStep >= 2"
          >
            <div class="step-number">2</div>
            <span class="step-label">Senha</span>
          </div>
        </div>
      </div>

      <!-- Mensagem de Erro -->
      <div 
        class="error-message" 
        *ngIf="errorMessage"
        [class.error-type-error]="errorType === 'error'"
        [class.error-type-warning]="errorType === 'warning'"
      >
        <div class="error-icon">
          <span *ngIf="errorType === 'error'">âš ï¸</span>
          <span *ngIf="errorType === 'warning'">â„¹ï¸</span>
        </div>
        <div class="error-text">{{ errorMessage }}</div>
        <button type="button" class="error-close" (click)="clearError()">âœ•</button>
      </div>

      <!-- FormulÃ¡rio Multi-Step -->
      <form (ngSubmit)="onSubmit()" class="cadastro-form">
        <!-- Step 1: Dados do UsuÃ¡rio -->
        <div class="form-step" *ngIf="currentStep === 1">
          <div class="form-group">
            <label for="name">Nome completo *</label>
            <input
              type="text"
              id="name"
              name="name"
              [(ngModel)]="name"
              placeholder="JoÃ£o Silva"
              required
              [disabled]="isLoading"
            />
          </div>

          <div class="form-group">
            <label for="email">E-mail *</label>
            <input
              type="email"
              id="email"
              name="email"
              [(ngModel)]="email"
              placeholder="joao@empresa.com"
              required
              [disabled]="isLoading"
            />
          </div>

          <div class="form-group">
            <label for="phone">Telefone *</label>
            <input
              type="tel"
              id="phone"
              name="phone"
              [(ngModel)]="phone"
              (input)="formatPhone($event)"
              placeholder="(11) 98765-4321"
              maxlength="15"
              required
              [disabled]="isLoading"
            />
          </div>

          <button 
            type="button" 
            class="btn-next" 
            (click)="nextStep()"
            [disabled]="isLoading"
          >
            PrÃ³ximo
          </button>
        </div>

        <!-- Step 2: Senha -->
        <div class="form-step" *ngIf="currentStep === 2">
          <div class="form-group">
            <label for="password">Senha *</label>
            <div class="password-input">
              <input
                [type]="showPassword ? 'text' : 'password'"
                id="password"
                name="password"
                [(ngModel)]="password"
                placeholder="MÃ­nimo 8 caracteres"
                minlength="8"
                required
                [disabled]="isLoading"
              />
              <button
                type="button"
                class="toggle-password"
                (click)="togglePasswordVisibility()"
                [disabled]="isLoading"
              >
                {{ showPassword ? 'ğŸ‘ï¸' : 'ğŸ‘ï¸â€ğŸ—¨ï¸' }}
              </button>
            </div>
            <small class="password-hint">A senha deve ter no mÃ­nimo 8 caracteres</small>
          </div>

          <div class="form-group">
            <label for="confirmPassword">Confirmar senha *</label>
            <div class="password-input">
              <input
                [type]="showConfirmPassword ? 'text' : 'password'"
                id="confirmPassword"
                name="confirmPassword"
                [(ngModel)]="confirmPassword"
                placeholder="Digite a senha novamente"
                minlength="8"
                required
                [disabled]="isLoading"
              />
              <button
                type="button"
                class="toggle-password"
                (click)="toggleConfirmPasswordVisibility()"
                [disabled]="isLoading"
              >
                {{ showConfirmPassword ? 'ğŸ‘ï¸' : 'ğŸ‘ï¸â€ğŸ—¨ï¸' }}
              </button>
            </div>
          </div>

          <div class="form-group-checkbox">
            <label class="checkbox-container">
              <input
                type="checkbox"
                [(ngModel)]="acceptTerms"
                name="acceptTerms"
                required
                [disabled]="isLoading"
              />
              <span class="checkbox-text">
                Eu aceito os <a href="#">Termos de Uso</a> e a 
                <a href="#">PolÃ­tica de Privacidade</a>
              </span>
            </label>
          </div>

          <div class="form-buttons">
            <button 
              type="button" 
              class="btn-back" 
              (click)="previousStep()"
              [disabled]="isLoading"
            >
              Voltar
            </button>
            <button 
              type="submit" 
              class="btn-submit"
              [disabled]="isLoading"
              [class.loading]="isLoading"
            >
              <span *ngIf="!isLoading">Criar conta e iniciar teste grÃ¡tis</span>
              <span *ngIf="isLoading" class="loading-text">
                <span class="spinner"></span>
                Criando conta...
              </span>
            </button>
          </div>
        </div>
      </form>

      <!-- Link para Login -->
      <div class="login-link">
        <p>JÃ¡ tem uma conta? <a routerLink="/login">Fazer login</a></p>
      </div>
    </div>
  </div>
</div>